/**
 * @tableofcontents
 *
 * 1. menu
 *    1.1 list
 * 2. query
 *    2.1 medium min
 *    2.2 medium max
 * 3. logic
 *    3.1 medium min
 *    3.2 medium max
 *
 * @since 3.0.0
 *
 * @package Redaxscript
 * @author Henry Ruhs
 */

/* @section 1. menu */

/* @section 1.1 list */

.rs-list-menu
{
	color: gray(255);
	font: 1.5em/2em var(--rs-font-primary);

	& a,
	& span
	{
		display: block;
		padding: 0 1em;
		transition: background 0.2s;
	}
}

/* @section 2. query */

/* @section 2.1 medium min */

@media (--media-medium-min)
{
	.rs-list-menu
	{
		float: right;
		margin: 0.875em 0;

		& > li
		{
			display: inline-block;

			& span
			{
				border-radius: 0.125em;
				box-shadow: inset 0 -0.125em 0 0 gray(0, 0.2);
				line-height: 2.5em;
			}

			&:hover .rs-list-menu-children
			{
				transform: translateY(0);
				transition: opacity 0.4s, transform 0.2s;
			}
		}

		& > li + li
		{
			margin-left: 1em;
		}

		& a,
		& span
	  	{
			background: var(--rs-color-primary);
			cursor: pointer;

			&:hover
			{
				background: var(--rs-color-primary-light);
			}
		}
	}

	/* children */

	.rs-list-menu-children
	{
		border-top: 0.5em solid transparent;
		transform: translateY(-0.25em);

		& li:first-child a
		{
			border-top-left-radius: 0.125em;
			border-top-right-radius: 0.125em;
		}

		& li:last-child a
		{
			border-bottom-left-radius: 0.125em;
			border-bottom-right-radius: 0.125em;
		}
	}
}

/* @section 2.2 medium max */

@media (--media-medium-max)
{
	.rs-list-menu
	{
		background: var(--rs-color-primary);
		max-width: 25em;
		width: 75%;

		& li
		{
			display: block;
		}

		& > li > span
		{
			background: var(--rs-color-primary-dark);
		}

		& a:hover
		{
			background: var(--rs-color-primary-light);
		}
	}

	/* hamburger */

	.rs-label-menu
	{
		bottom: 0;
		color: gray(200);
		cursor: pointer;
		font: 1em arial;
		max-width: 5em;
		padding-top: 3.75em;
		position: absolute;
		right: 0;
		text-align: center;
		top: 0;
		vertical-align: bottom;
		width: 25%;
		z-index: 1000;

		&:after,
		&:before
		{
			background: var(--rs-color-primary);
			bottom: 4em;
			content: '';
			height: 0.25em;
			left: 1.25em;
			position: absolute;
			right: 1.25em;
			transition: transform 0.2s;
		}
	}

	.rs-fn-status-menu:not(:checked) ~ .rs-has-menu .rs-fn-toggle-menu:after
	{
		box-shadow: 0 -0.5em 0 var(--rs-color-primary), 0 0.5em 0 var(--rs-color-primary);
	}

	.rs-fn-status-menu:checked ~ .rs-has-menu .rs-label-menu:after
	{
		transform: rotate(-45deg);
	}

	.rs-fn-status-menu:checked ~ .rs-has-menu .rs-label-menu:before
	{
		transform: rotate(45deg);
	}
}

/* @section 3. logic */

.rs-fn-status-menu
{
	display: none;
}

/* @section 3.1 medium min */

@media (--media-medium-min)
{
	.rs-fn-toggle-menu,
	.rs-fn-close-menu
	{
		display: none;
	}
}

/* @section 3.2 medium max */

@media (--media-medium-max)
{
	.rs-fn-menu
	{
		bottom: 0;
		left: 0;
		position: fixed;
		top: 0;
		transform: translateX(-100%);
		z-index: 1000;
	}

	.rs-fn-status-menu:checked ~ .rs-has-menu .rs-fn-menu
	{
		transform: translateX(0);
		transition: transform 0.2s;
	}

	.rs-fn-close-menu
	{
		background: gray(0, 0.8);
		bottom: 0;
		left: 0;
		opacity: 0;
		position: fixed;
		right: 0;
		top: 0;
		z-index: 900;
	}

	.rs-fn-status-menu:checked ~ .rs-has-menu .rs-fn-close-menu
	{
		opacity: 1;
		transition: opacity 0.2s;
	}
}