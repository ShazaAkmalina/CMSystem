<?php namespace Redaxscript\Template; ?>

<!DOCTYPE html>
<html lang="<?php echo Tag::registry('language'); ?>" dir="<?php echo Helper::getDirection(); ?>" class="<?php echo Helper::getClass(); ?>">

	<!-- head -->

	<head>
		<?php echo Tag::partial(array(
			'templates/default/head.phtml',
			'templates/admin/head.phtml'
		)); ?>
	</head>

	<!-- body -->

	<body class="rs-body rs-wrapper-body">

		<!-- admin panel and header -->

		<?php echo Tag::partial(array(
			'templates/admin/panel.phtml',
			'templates/admin/dashboard.phtml',
			'templates/default/header.phtml'
		)); ?>

		<!-- main -->

		<main id="main" class="rs-main rs-is-clearfix">

			<!-- teaser -->

			<?php if (!Tag::registry('adminParameter')): ?>
				<?php echo Tag::extra(array(
					'filter' => 'teaser'
				)); ?>
			<?php endif; ?>

			<!-- page -->

			<div class="rs-page rs-wrapper rs-is-clearfix">

				<!-- handle content error -->

				<?php if (Tag::registry('contentError')): ?>
					<?php echo Tag::partial('templates/default/error.phtml'); ?>

				<!-- else content and sidebar -->

				<?php else: ?>
					<?php echo Tag::partial(array(
						'templates/default/content.phtml',
						'templates/default/sidebar.phtml'
					)); ?>
				<?php endif; ?>
			</div>
		</main>

		<!-- footer -->

		<?php echo Tag::partial('templates/default/footer.phtml'); ?>
		<?php echo Tag::script(); ?>
	</body>
</html>
