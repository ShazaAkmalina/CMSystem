<?php
namespace Redaxscript;

$titlePartialElement = new Html\Element();
$titlePartialElement->init('h3', array(
	'class' => 'rs-title-preview-sub'
));
$tableElement = new Html\Element();
$tableElement->init('table', array(
	'class' => $admin ? 'rs-admin-table-default' : 'rs-table-default'
));
$theadElement = new Html\Element();
$theadElement->init('thead');
$tfootElement = new Html\Element();
$tfootElement->init('tfoot');
$tbodyElement = new Html\Element();
$tbodyElement->init('tbody');
$captionElement = new Html\Element();
$captionElement->init('caption');
$thElement = new Html\Element();
$thElement->init('th');
$tdElement = new Html\Element();
$tdElement->init('td');
$outputHead = null;
$outputFoot = null;
$outputBody = null;
$columnArray = array(
	'rs-column-first',
	'rs-column-second',
	'rs-column-third',
	'rs-column-fourth',
	'rs-column-fifth'
);
?>

<!-- thead and tfoot content -->

<?php for ($i = 0; $i < 5; $i++): ?>

	<?php $outputHead .= $thElement
		->copy()
		->addClass('rs-s1o5 ' . $columnArray[$i])
		->text(Language::get($i + 1, '_number')); ?>

	<?php $outputFoot .= $tdElement
		->copy()
		->addClass($columnArray[$i])
		->text(Language::get($i + 1, '_number')); ?>

<?php endfor; ?>

<!-- tbody content -->

<?php foreach ($columnArray as $value): ?>

	<?php $outputBody .= $tdElement
		->copy()
		->addClass($value)
		->text(Language::get('preview', '_preview')); ?>

<?php endforeach; ?>

<!-- table -->

<?php echo $titlePartialElement->text($admin ? '.rs-admin-wrapper-table > .rs-admin-table-default' : '.rs-wrapper-table > .rs-table-default'); ?>

<div class="<?php echo $admin ? 'rs-admin-wrapper-table' : 'rs-wrapper-table'; ?>">

	<?php echo $tableElement->html(
		$theadElement->html($outputHead) .
		$tfootElement->html($outputFoot) .
		$tbodyElement->html(
			'<tr>' . $outputBody . '</tr>' .
			'<tr>' . $outputBody . '</tr>' .
			'<tr>' . $outputBody . '</tr>'
		)
	); ?>

</div>

<!-- table with caption -->

<?php echo $titlePartialElement->text($admin ? '.rs-admin-wrapper-table > .rs-admin-table-default' : '.rs-wrapper-table > .rs-table-default'); ?>

<div class="<?php echo $admin ? 'rs-admin-wrapper-table' : 'rs-wrapper-table'; ?>">

	<?php echo $tableElement->html(
		$captionElement->text('Caption') .
		$tbodyElement->html(
			'<tr>' . $outputBody . '</tr>' .
			'<tr>' . $outputBody . '</tr>' .
			'<tr>' . $outputBody . '</tr>'
		)
	); ?>

</div>
